<template>
  <div class="home-container">
    <!-- å¤´éƒ¨ä¿¡æ¯ -->
    <div class="header-section" data-anim="fade-up">
      <div class="avatar-wrap">
        <img 
          src="/images/avatar.webp" 
          alt="ç§¦ç„é¾™" 
          class="avatar"
          @mouseover="hoverAvatar"
          @mouseleave="unhoverAvatar"
        >
        <div 
          class="avatar-glow" 
          :class="{ active: avatarHover }"
        ></div>
      </div>
      <h1 class="name" data-anim="fade-right">ç§¦ç„é¾™</h1>
      <p class="title" data-anim="fade-left">Webå‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ</p>
      <div class="contact" data-anim="fade-up">
        <span>ğŸ“± 15956793981</span>
        <span>ğŸ“§ 1470681411@qq.com</span>
        <a href="#æ¡ˆä¾‹å±•ç¤º" target="_blank">ğŸŒ æŠ€æœ¯åšå®¢</a>
      </div>
    </div>

    <!-- ä¸“ä¸šæŠ€èƒ½ -->
    <div class="section skills" data-anim="fade-up">
      <h2>ä¸“ä¸šæŠ€èƒ½</h2>
      <div class="skill-group">
        <div class="skill-category">
          <h3>VueæŠ€æœ¯æ ˆ</h3>
          <p>ç²¾é€šVue3å“åº”å¼åŸç†ä¸Composition API<br>ç†Ÿç»ƒåº”ç”¨Vue Routerè·¯ç”±å®ˆå«ä¸Vuex/Pinia<br>å®æˆ˜ï¼šæ—¥å‡10ä¸‡+è®¢å•è´¢ç¨SaaSå¹³å°å¼€å‘</p>
        </div>
        <div class="skill-category">
          <h3>ReactæŠ€æœ¯æ ˆ</h3>
          <p>ç†Ÿç»ƒReact Hooks + Redux Toolkit<br>æŒæ¡Fiberæ¶æ„ä¸æ€§èƒ½ä¼˜åŒ–<br>æ¡ˆä¾‹ï¼šä¼ä¸šçº§ä¸­åå°ç®¡ç†ç³»ç»Ÿæ¶æ„</p>
        </div>
        <div class="skill-category">
          <h3>æ¶æ„èƒ½åŠ›</h3>
          <p>ä¸»å¯¼MicroAppå¾®å‰ç«¯æ–¹æ¡ˆï¼ˆæ•ˆç‡â†‘60%ï¼‰<br>Uni-appè·¨ç«¯å¼€å‘ï¼ˆä»£ç å¤ç”¨85%+ï¼‰<br>Node.jsæœåŠ¡å¼€å‘ï¼ˆExpress/Koaï¼‰</p>
        </div>
        <div class="skill-category">
          <h3>æ€§èƒ½ä¼˜åŒ–</h3>
          <p>Web Workeråˆ†æµï¼ˆé˜»å¡â†“70%ï¼‰<br>IndexedDBåˆ†çº§ç¼“å­˜è®¾è®¡<br>Nginxåå‘ä»£ç†ä¸PM2è¿›ç¨‹ç®¡ç†</p>
        </div>
      </div>
    </div>

    <!-- æ¡ˆä¾‹å±•ç¤º -->
    <div class="section projects">
      <h2 data-anim="fade-up">æ¡ˆä¾‹å±•ç¤º</h2>
      <div 
        v-for="project in projects" 
        :key="project.id" 
        class="project-card"
        :data-speed="project.speed"
      >
        <div class="project-cover" :style="{ backgroundImage: `url(${project.cover})` }"></div>
        <div class="project-info">
          <h3>{{ project.title }}</h3>
          <p class="desc">{{ project.desc }}</p>
          <div class="project-links">
            <a :href="project.link" target="_blank">è®¿é—®é“¾æ¥</a>
          </div>
          <div class="project-tags">
            <span v-for="tag in project.tags" :key="tag">{{ tag }}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- å·¥ä½œç»å† -->
    <div class="section experience" data-anim="fade-up">
      <h2>å·¥ä½œç»å†</h2>
      <div class="timeline">
        <div class="timeline-item" v-for="exp in experiences" :key="exp.time">
          <div class="timeline-time">{{ exp.time }}</div>
          <div class="timeline-content">
            <h3>{{ exp.company }}</h3>
            <p class="position">{{ exp.position }}</p>
            <ul>
              <li v-for="detail in exp.details" :key="detail">{{ detail }}</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue';

// åŠ¨ç”»çŠ¶æ€
const avatarHover = ref(false);

// æ¡ˆä¾‹æ•°æ®ï¼ˆæ ¹æ®ç®€å†è°ƒæ•´ï¼‰
const projects = ref([{
  id: 1,
  title: "æ•°å­—äººç›´æ’­ç³»ç»Ÿ",
  desc: "Vue3+WebSocket+TTSè¯­éŸ³åˆæˆæŠ€æœ¯å®ç°çš„æ•°å­—äººç›´æ’­è§£å†³æ–¹æ¡ˆ",
  tags: ['Vue3', 'WebSocket', 'TTS'],
  cover: '/images/p1.png',
  link: "https://web.dingshuimao.com/",
  speed: 0.8
}, {
  id: 2,
  title: "æ°´åˆ©æ•°å­—å­ªç”Ÿå¹³å°",
  desc: "Mars3D+ECharts 3Då¯è§†åŒ–å®ç°çš„æ°´åˆ©ç›‘æµ‹ä¸åˆ†æç³»ç»Ÿ",
  tags: ['Mars3D', 'ECharts', '3Då¯è§†åŒ–'],
  cover: '/images/p1.png',
  link: "https://djb.dingshuimao.com/",
  speed: 0.6
}, {
  id: 3,
  title: "æ™ºèƒ½ç›´æ’­æ§åˆ¶å°",
  desc: "å¾®å‰ç«¯+Web Workerä¼˜åŒ–çš„ç›´æ’­ç®¡ç†æ§åˆ¶å°",
  tags: ['å¾®å‰ç«¯', 'Web Worker', 'æ€§èƒ½ä¼˜åŒ–'],
  cover: '/images/p1.png',
  link: "https://zb.magicpensoft.com/",
  speed: 0.7
}]);

// å·¥ä½œç»å†æ•°æ®
const experiences = ref([{
  time: "2023.08-2024.11",
  company: "å—äº¬ç¥ç¬”ç§‘æŠ€æœ‰é™å…¬å¸",
  position: "å‰ç«¯å¼€å‘è´Ÿè´£äºº",
  details: [
    "ä¸»å¯¼æ•°å­—äººç›´æ’­ç³»ç»Ÿå¼€å‘ï¼ˆæ–‡å­—è½¬è¯­éŸ³å»¶è¿Ÿ<200msï¼›3Dæ¸²æŸ“æ•ˆç‡â†‘30%ï¼‰",
    "æ°´åˆ©æ•°å­—å­ªç”Ÿé¡¹ç›®ï¼šé›†æˆMars3Då®ç°æ°´ä½ç›‘æµ‹å¯è§†åŒ–ï¼›å¼€å‘10ä¸‡+æ•°æ®ç‚¹åˆ†ææ¨¡å—"
  ]
}, {
  time: "2021.07-2023.03",
  company: "å—äº¬é¼èˆªæ•°æ®ç§‘æŠ€æœ‰é™å…¬å¸",
  position: "é«˜çº§Webå‰ç«¯å·¥ç¨‹å¸ˆ",
  details: [
    "è´¢ç¨SaaSå¹³å°æ ¸å¿ƒå¼€å‘ï¼ˆVue3+ElementUIï¼›è™šæ‹Ÿæ»šåŠ¨ä¼˜åŒ–åŠ è½½é€Ÿåº¦5sâ†’1sï¼‰",
    "ä¸»å¯¼å‰ç«¯å·¥ç¨‹åŒ–å»ºè®¾ï¼ˆæ„å»ºæ•ˆç‡â†‘50%ï¼‰"
  ]
}]);

// å¤´åƒäº¤äº’åŠ¨ç”»
const hoverAvatar = () => avatarHover.value = true;
const unhoverAvatar = () => avatarHover.value = false;

// æ»šåŠ¨åŠ¨ç”»åˆå§‹åŒ–
onMounted(() => {
  // å…¥åœºåŠ¨ç”»
//   const animateElements = document.querySelectorAll('[data-anim]');
//   animateElements.forEach((el:any) => {
 
//     el.style.opacity = '0';
//     setTimeout(() => {
//       el.style.opacity = '1';
//       el.classList.add('animated', el.dataset.anim!);
//     }, 100 * Array.from(animateElements).indexOf(el));
//   });

  // è§†å·®æ»šåŠ¨
//   window.addEventListener('scroll', () => {
//     const scrolled = window.pageYOffset;
//     document.querySelectorAll('.project-card').forEach((el: any) => {
//       const speed = parseFloat(el.dataset.speed || '1');
//       el.style.transform = `translateY(${scrolled * speed}px)`;
//     });
//   });
});
</script>

<style lang="scss" scoped>
$primary-color: #646cff;
$anim-duration: 0.6s;

.home-container {
  max-width: 1440px;
  margin: 0 auto;
  padding: 4rem 2rem;

  // å¤´éƒ¨åŒºåŸŸåŠ¨ç”»
  .header-section {
    text-align: center;
    margin-bottom: 6rem;

    .avatar-wrap {
      position: relative;
      display: inline-block;
      margin-bottom: 2rem;

      .avatar {
        width: 200px;
        height: 200px;
        border-radius: 50%;
        object-fit: cover;
        border: 4px solid #fff;
        box-shadow: 0 8px 24px rgba(100, 108, 255, 0.15);
        transition: transform $anim-duration ease;
      }

      .avatar-glow {
        position: absolute;
        top: -10%;
        left: -10%;
        width: 120%;
        height: 120%;
        border-radius: 50%;
        background: radial-gradient(circle, rgba(100,108,255,0.3) 0%, rgba(255,255,255,0) 70%);
        opacity: 0;
        transition: opacity $anim-duration ease;
        &.active { opacity: 1; }
      }
    }

    .name {
      font-size: 3.5rem;
      background: linear-gradient(45deg, $primary-color, #42b883);
      -webkit-background-clip: text;
      color: transparent;
      margin-bottom: 1rem;
    }

    .title {
      font-size: 1.5rem;
      color: #4b5563;
      letter-spacing: 1px;
    }
  }

  // æŠ€èƒ½æ ‡ç­¾åŠ¨ç”»
  .skills {
    margin-bottom: 6rem;

    .skill-group {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 2rem;
      margin-top: 2rem;

      .skill-category {
        background: #f8f9fa;
        padding: 1.5rem;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(100,108,255,0.1);

        h3 {
          color: $primary-color;
          margin-bottom: 0.8rem;
        }

        p {
          color: #4b5563;
          line-height: 1.6;
          font-size: 0.95rem;
        }
      }
    }
  }

  // é¡¹ç›®å¡ç‰‡åŠ¨ç”»
  .projects {
    .project-card {
      position: relative;
      height: 400px;
      background: #fff;
      border-radius: 20px;
      margin: 3rem 0;
      overflow: hidden;
      box-shadow: 0 12px 32px rgba(100, 108, 255, 0.1);
      transition: transform $anim-duration ease;

      .project-cover {
        width: 100%;
        height: 100%;
        background-size: cover;
        background-position: center;
        filter: blur(0);
        transition: filter $anim-duration ease;
      }

      .project-info {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 2rem;
        background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 100%);
        color: white;

        .desc {
          margin: 0.5rem 0 1rem;
          opacity: 0.9;
          line-height: 1.6;
        }

        .project-links {
          margin: 0.8rem 0;

          a {
            color: #646cff;
            text-decoration: none;
            font-size: 0.9rem;
            &:hover { text-decoration: underline; }
          }
        }

        .project-tags {
          display: flex;
          gap: 0.5rem;
          font-size: 0.9rem;

          span {
            background: rgba(255,255,255,0.1);
            padding: 0.3rem 0.8rem;
            border-radius: 50px;
          }
        }
      }

      &:hover {
        .project-cover { filter: blur(2px); }
      }
    }
  }

  // å·¥ä½œç»å†æ—¶é—´çº¿
  .experience {
    .timeline {
      margin-top: 2rem;

      .timeline-item {
        display: flex;
        gap: 2rem;
        margin-bottom: 2.5rem;

        .timeline-time {
          flex-shrink: 0;
          color: $primary-color;
          font-weight: 500;
          width: 120px;
        }

        .timeline-content {
          flex: 1;

          .position {
            color: #6b7280;
            font-size: 0.95rem;
            margin: 0.3rem 0 0.8rem;
          }

          ul {
            padding-left: 1.2rem;
            li {
              color: #4b5563;
              line-height: 1.6;
              margin-bottom: 0.5rem;
            }
          }
        }
      }
    }
  }
}

// é€šç”¨åŠ¨ç”»ç±»
.animated {
  &.fade-up { animation: fadeUp $anim-duration ease-out forwards; }
  &.fade-right { animation: fadeRight $anim-duration ease-out forwards; }
  &.fade-left { animation: fadeLeft $anim-duration ease-out forwards; }
}

@keyframes fadeUp {
  from { transform: translateY(30px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

@keyframes fadeRight {
  from { transform: translateX(-30px); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}

@keyframes fadeLeft {
  from { transform: translateX(30px); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}

@media (max-width: 768px) {
  .home-container { padding: 2rem 1rem; }
  .header-section .name { font-size: 2.5rem; }
  .project-card { height: 300px; }
  .timeline-item {
    flex-direction: column;
    gap: 1rem;
  }
}
</style>